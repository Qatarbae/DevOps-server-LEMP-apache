# nixys
тестовое задание

Реализация: https://disk.yandex.ru/d/lb8lKlTcUm2HJg

##Настройка сервисов на сервере
Требуется провести более тонкую настройку отдельных сервисов. Результат данной работы должен выглядеть как diff-файл между стандартными настройками сервисов � доработанными в ходе тестового задания.
Желательно приложить каталог с конфигурацией изменяемого сер�иса.

Задание по настройке Nginx:
  * Настроить сжатие типов данных: text, javascript, css, json, xml
  * Разрешить максимальную загрузку данных через Nginx в соответствии с настройками PHP
  * Запретить вывод версии Nginx(при web-запросах к сайтам сервера)

Задание по настройке Apache:
  * Запретить(глобально) возможность обращения пользоват�лей к директориям вида .svn и .git
  * Настроить работу Apache по 81 порту на локальном ip-адресе.
  * Уменьшить максимальное количество клиентов веб-сервера до 25.

Зад�ние по настройке PHP:
  * Настроить параметры хранения сессий PHP таким образом, чтобы сессии сайтов жили ми�имум 1 сутки. После этого, с вероятностью 10%, сессии д�лжны очищаться.
  * Разрешить загрузку файлов, через PHP, с максимальным объемом - 64 Мб.

Задание по настройке MySQL:
  * Выделить для кэша запросов 32 Мб ОЗУ.
  * Размер временных таблиц установить в 50 Мб.
  * Количество кэшированных потоков(нитей) должно быть не ниже 20.
  * Все InnoDB-таблицы должны храниться в отдельных файлах

##Настройка площадок на сервере
По результатам работы должно получиться 2 площадки под сайты, которые �удут обслуживать сайты (site.ru и site-2.ru). Так же должен р�ботать PMA как алиас к обоим площадкам.

Задание по настройке площадки для работы сайта site.ru:
  * Необходимо настроить связку Nginx+Apache2+PHP+MySQL для работы сайта(site.ru).
  * На сервере подготовить площадку под сайт и развернуть в рамках неё CMS Битрикс
  * Настроить web-сервер таким образом, чтобы все запросы к статическим данным, таким как изображения, видео, gif и др, обрабатывали�ь Nginx, а все остальные - передавались на обработку Apache2.
  * При этом, все подобные запросы, которые Nginx долж�н был, но по каким-то причинам не смог обработать самостоятельно - должны передаваться на Apache2
    (т.е., если файла http://site.ru/test-nixys.js нет и Nginx, разумеется, не може� отдать такой файл, то такие запросы должны быть пер�даны на обработку Apache2).
  * Настроить минимально нео�ходимые для работы Nginx и Apache права на площадку для сайта.

Задание по настройке площадки для работы сайт site-2.ru:
  * Необходимо настроить связку Nginx+php-fpm для работы сайта(site-2.ru).
  * Необходимо предусмотреть возмозность переключения между версиями php через разные п�лы fpm
  * Сайт должен работать от пользователя site-2.ru
  * Установить на площадке любой файл менеджер на PHP. Загрузить/удалить с его помощью несколько файлов внутрь сайта(статических(картинки) и динамических файлов (например phpinfo)).
  * Проверить корректность доступа к загруженным файлам.

Задание по настройке phpMyAdmin как алиас:
  * phpMyAdmin должен работать для любого сайта се�вера - простым добавлением /phpmyadmin к URL сайта(PMA как ал�ас).
  * phpMyAdmin должен быть последней версии, скачанны� с официального сайта.
  * Обеспечить работу phpMyAdmin(без ошибок и предупреждений) и возможность управления базами данных MySQL на данном сервере.
  * Обеспечить возможность работы "дополнительных возможностей" PMA
  * Статические данные PMA должны отдаваться веб-сервером Nginx.

##Результат выполнения тестового задания
Cсылка на облачное хранилище, где хранится файл .tar.gz, содержащий директории и файлы с настройками(основные директории сервисов, которые подверглись модификации), 
а так же структуру каталогов и файлов(в /var/www/) для проверки созданных связок.
Если с Вашей стороны возникнут какие-либо комментарии к заданию - Вы можете описать их в письме, или вложить файл read.me.

## Ремарка
площадка под сайт представляет директорию в /var/www/, в �оторой содержатся:
* Отдельная директория для кода сайта(DOC_ROOT)
* Отдельная структура директорий для храрения логов сайта
* Отдельная директория для хранения сессий сайта
* Отдельная директория для хранения временных файлов сайта

Тестовое задание необходимо выполнить в ОС Debian/Ubuntu/CentOS.
